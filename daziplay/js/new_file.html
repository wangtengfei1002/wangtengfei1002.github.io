<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
	</body>
</html>
<script>
	function game (){
		this.arr=['a','v','f','c','s','a','v','f','c','s','a','v','f','c','s'];
		this.length=5;
		this.speed=5;
		this.ps=[];
	}
	game.prototype={
		star:function(){
			this.leng();
			this.drap();
			this.jianpan();
		},
		leng:function(){
			for(let i=0;i<this.length;i++){
			this.choose()
			}
		},
		choose:function(){
			let num=Math.floor(Math.random()*this.arr.length);
			let el=document.createElement('div');
			let tops=Math.floor(Math.random()*100);
			let lefts=Math.floor(Math.random()*(window.innerWidth-600)+300)
			el.style.cssText=`
				height:50px;
				width:50px;
				background:red;
				text-align:center;
				line-height:50px;
				position:absolute;
				left:${lefts}px;
				top:${tops}px;	
				font-size:30px;
			`
			el.innerText=this.arr[num];
			document.body.appendChild(el);
			this.ps.push(el);
			console.log(this.ps);
		},
		drap:function(){			
			let t;
			this.t=setInterval(function(){
				for(let i=0;i<this.ps.length;i++){
					let tops=this.ps[i].offsetTop;												
					this.ps[i].style.top=tops+this.speed+'px';
					if(tops>800){
						document.body.removeChild(this.ps[i]);
						this.ps.splice(i,1);
					}
					if(this.ps.length<this.length){
						this.choose();
				}
				}
			}.bind(this),80);
			console.log(this.ps)
		},
		jianpan:function(){
			document.body.onkeydown=function(e){
				let code=String.fromCharCode(e.keyCode).toLowerCase();
				for(let i=0;i<this.ps.length;i++){
				if(code == this.ps[i].innerText){
					document.body.removeChild(this.ps[i]);
					this.ps.splice(i,1);
				
}
	}
	}.bind(this);
			
	}
	}
	let gam=new game;
	gam.star()
</script>
